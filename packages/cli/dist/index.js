import"dotenv/config";import{Command as L}from"commander";import"dotenv/config";import{existsSync as S,promises as R}from"fs";import m from"path";import U from"gradient-string";import{Command as D}from"commander";import J from"ora";import{execa as O}from"execa";import w from"prompts";var b=`
\u2591\u2592\u2593\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2588\u2588\u2588\u2588\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591 
\u2591\u2592\u2593\u2588\u2593\u2592\u2591     \u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591 
\u2591\u2592\u2593\u2588\u2593\u2592\u2591     \u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591 
\u2591\u2592\u2593\u2588\u2588\u2588\u2588\u2588\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591 
\u2591\u2592\u2593\u2588\u2593\u2592\u2591     \u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591 
\u2591\u2592\u2593\u2588\u2593\u2592\u2591     \u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591  
\u2591\u2592\u2593\u2588\u2593\u2592\u2591     \u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2588\u2588\u2588\u2588\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591  v0.0.1 

                                                                               
`;import l from"chalk";var t={error(...e){console.log(l.red(...e))},warn(...e){console.log(l.yellow(...e))},info(...e){console.log(l.cyan(...e))},success(...e){console.log(l.green(...e))},break(){console.log("")}};import{z as y}from"zod";import{detect as N}from"@antfu/ni";async function P(e){let n=await N({programmatic:!0,cwd:e});return n==="yarn@berry"?"yarn":n==="pnpm@6"?"pnpm":n==="bun"?"bun":n??"npm"}var _=[{name:"React",value:"react"},{name:"Vue",value:"vue"},{name:"Svelte",value:"svelte"},{name:"Html",value:"html"}];process.on("SIGINT",()=>process.exit(0));process.on("SIGTERM",()=>process.exit(0));var B="https://farmui-api.vercel.app/api/components",W=y.object({id:y.string(),cwd:y.string()});console.log(U("pink","blue")(b));var T=new D().name("add").description("add a new component or UI from farmui").argument("<string>","id of the component from https://farmui.com").option("-c, --cwd <cwd>","the working directory. defaults to the current directory.",process.cwd()).action(async(e,n)=>{let f=W.parse({id:e,...n}),c=m.resolve(f.cwd),k=_[0],u=k.value;S(c)||(t.error(`There is no ${c} exists your paths.`),process.exit(0));let v="components",A=process.cwd()===f.cwd;try{if(!A)t.info(`We are dumping the component inside of ${c} `);else{let{dir:o}=await w({type:"text",name:"dir",message:"A directory to dump the components? ",hint:"components "});o&&(v=o)}let{fm:x}=await w({type:"multiselect",name:"fm",message:"Which components would you like to add?",hint:"Space to select. A to toggle all. Enter to submit.",instructions:!1,choices:_.map(o=>({title:o,name,value:o.value,selected:k}))}),$=m.join(c,v),a=m.join($,"/farmui"),r=(await(await fetch(B)).json()).find(o=>o.id===f.id);if(r||(t.error("No such component exists with in this ID."),process.exit(0)),S(a)){let{proceed:o}=await w({type:"confirm",name:"proceed",message:"Ready to install components and dependencies. Proceed?",initial:!0});o||(t.info("Make sure you have the right path to dump the components"),process.exit(0))}else await R.mkdir(a,{recursive:!0});let s=[],j=r.files[0].root.name;console.log(r.files[0].root.contents[u]);let C=r.files[0].root.contents[u].content,E=m.join(a,j),I=[];r[1]&&(I=r.files[1].child),s.push({comp_content:C,comp_path:E});let Q=[];I.map(o=>{let p=o.name,h=o.contents[u].content,d=m.join(a,p);s.push({comp_content:h,comp_path:d})});let g=J("Dumping your components...");g.start();let i=r.dependencies;s?s.map(async({comp_content:o,comp_path:p})=>{await R.writeFile(`${p}.tsx`,o)}):t.warn("No component to add");let F=await P(c);if(i?.length&&await O(`${F}`,["install",...i],{cwd:process.cwd()}),g.stop(),i.length&&(t.info(`Dependencies - ${i.length} added`),i.map(o=>{t.success(` + ${o}`)})),s){let o=a.split("/"),p=o[o.length-2]+"/"+o[o.length-1];t.info(`Components - ${s.length} added inside of ${p}`),s.map(h=>{let d=h.comp_path.split("/"),G=d[d.length-1];t.success(` + ${G}`)})}g.succeed("Successfully installed")}catch(x){t.error("Error has occured!"),console.log("Error: ",x)}});import z from"path";import H from"fs-extra";function M(){let e=z.join("package.json");return H.readJSONSync(e)}process.on("SIGINT",()=>process.exit(0));process.on("SIGTERM",()=>process.exit(0));async function V(){let e=await M(),n=new L().name("farmui").description("Add natively farmed farmUI blocks ").version(e.version||"0.1.0","-v, --version","display the version number");n.addCommand(T),n.parse()}V();
//# sourceMappingURL=index.js.map