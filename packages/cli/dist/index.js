import"dotenv/config";import{Command as q}from"commander";import"dotenv/config";import{existsSync as m,promises as y}from"fs";import a from"path";import L from"gradient-string";import{Command as z}from"commander";import T from"ora";import{execa as B}from"execa";import v from"prompts";var R=`
\u2591\u2592\u2593\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2588\u2588\u2588\u2588\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591 
\u2591\u2592\u2593\u2588\u2593\u2592\u2591     \u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591 
\u2591\u2592\u2593\u2588\u2593\u2592\u2591     \u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591 
\u2591\u2592\u2593\u2588\u2588\u2588\u2588\u2588\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591 
\u2591\u2592\u2593\u2588\u2593\u2592\u2591     \u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591 
\u2591\u2592\u2593\u2588\u2593\u2592\u2591     \u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591  
\u2591\u2592\u2593\u2588\u2593\u2592\u2591     \u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2588\u2588\u2588\u2588\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591  v1.0.2 

                                                                               
`;import _ from"chalk";var e={error(...t){console.log(_.red(...t))},warn(...t){console.log(_.yellow(...t))},info(...t){console.log(_.cyan(...t))},success(...t){console.log(_.green(...t))},break(){console.log("")}};import{z as $}from"zod";import{detect as J}from"@antfu/ni";async function F(t){let i=await J({programmatic:!0,cwd:t});return i==="yarn@berry"?"yarn":i==="pnpm@6"?"pnpm":i==="bun"?"bun":i??"npm"}var j=[{name:"React",value:"react"},{name:"Vue",value:"vue"},{name:"Svelte",value:"svelte"},{name:"Html",value:"html"}];process.on("SIGINT",()=>process.exit(0));process.on("SIGTERM",()=>process.exit(0));var H="https://farmui-api.vercel.app/api/components",K=$.object({id:$.string(),cwd:$.string()}),V=["animation","keyframes"];console.log(L("pink","blue")(R));var N=new z().name("add").description("add a new component or UI from farmui").argument("<string>","id of the component from https://farmui.com/components").option("-c, --cwd <cwd>","the working directory. defaults to the current directory.",process.cwd()).action(async(t,i)=>{let k=K.parse({id:t,...i}),d=a.resolve(k.cwd),g=j[0].value;m(d)||(e.error(`There is no ${d} exists your paths.`),process.exit(0));let P="components",C=process.cwd()===k.cwd;try{if(!C)e.info(`We are dumping the components inside of ${d} `);else{let{dir:o}=await v({type:"text",name:"dir",message:"A directory to dump the components? ",hint:"components "});o&&(P=o)}let{fm:f}=await v({type:"select",name:"fm",message:"Which framework do you want to use with?",hint:"Space to select and Enter to submit.",instructions:!1,choices:j.map(o=>({title:o.name,value:o.value,selected:o.value==="react"}))});f&&(g=f),g!=="react"&&(e.error(`We are not currently supporting ${f} on https://farmui.com.`),e.info("Be a part of the community by adding an integration to your favorite framework, go for https://github.com/Kinfe123/farm-ui"),process.exit(0));let E=a.join(d,P),l=a.join(E,"/farmui"),c=(await(await fetch(H)).json()).find(o=>o.id===k.id);if(c||(e.error("No such component exists with in this ID."),process.exit(0)),m(l)){let{proceed:o}=await v({type:"confirm",name:"proceed",message:"Ready to install components and dependencies. Proceed?",initial:!0});o||(e.info("Make sure you have the right path to dump the components"),process.exit(0))}else await y.mkdir(l,{recursive:!0});let p=[],M=c.files[0].root.name,x=c.tailwind;if(x){e.info("The components need tailwind.config.(ts/js) change");let o=a.join(process.cwd(),"tailwind.config.js"),r=a.join(process.cwd(),"tailwind.config.ts"),n="ts",s=!0;if(!m(r)&&!m(o)&&(s=!1),!s)e.warn("The tailwind.config.(js/ts) can not be found with in the given directory , Please make sure to intialize your project with tailwindcss or shadcn , may be any UI component that build on top of tailwind"),e.info("Skipping... and importing the components");else{m(o)&&(n="js");let w=`tailwind.config.${n}`,U=a.join(process.cwd(),w),io=await y.readFile(U,"utf8");V.map(h=>{if(h in x){e.info(`For ${h} - copy the following and paste it to your ${w}`);let W=x[h].content;console.log({[h]:W})}})}}let G=c.files[0].root.contents[g].content,O=a.join(l,M),S=[];c[1]&&(S=c.files[1].child),p.push({comp_content:G,comp_path:O}),S.map(o=>{let r=o.name,n=o.contents[g].content,s=a.join(l,r);p.push({comp_content:n,comp_path:s})});let I=T("Dumping your components..."),b=T("Overriting"),u=c.dependencies;p?p.map(async({comp_content:o,comp_path:r})=>{let n=`${r}.tsx`;if(m(n)){let{overwrite:s}=await v({type:"confirm",name:"overwrite",message:"Override already existed component? Proceed?",initial:!0});s?(b=T(`Overwriting the component at ${n}....`),b.start(),await y.writeFile(`${r}.tsx`,o)):e.info(`Skipping: The component ${n} already existed`)}else I.start(),await y.writeFile(`${r}.tsx`,o)}):e.warn("No component to add");let D=await F(d);if(u?.length&&await B(`${D}`,["install",...u],{cwd:process.cwd()}),I.stop(),b.stop(),u.length&&(e.info(`Dependencies - ${u.length} added`),u.map(o=>{e.success(` + ${o}`)})),p){let o=l.split("/"),r=o[o.length-2]+"/"+o[o.length-1];e.info(`Components - ${p.length} added inside of ${r}`),p.map(n=>{let s=n.comp_path.split("/"),w=s[s.length-1];e.success(` + ${w}`)})}I.succeed("Successfully installed")}catch(f){e.error("Error has occured!"),console.log("Error: ",f)}});import X from"path";import Y from"fs-extra";function A(){let t=X.join("package.json");return Y.readJSONSync(t)}process.on("SIGINT",()=>process.exit(0));process.on("SIGTERM",()=>process.exit(0));async function Q(){let t=await A(),i=new q().name("farmui").description("Add natively farmed farmUI blocks ").version(t.version||"0.1.0","-v, --version","display the version number");i.addCommand(N),i.parse()}Q();
//# sourceMappingURL=index.js.map