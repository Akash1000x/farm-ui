import"dotenv/config";import{Command as O}from"commander";import"dotenv/config";import{existsSync as k,promises as I}from"fs";import p from"path";import b from"gradient-string";import{Command as j}from"commander";import A from"ora";import{execa as G}from"execa";import x from"prompts";var y=`
\u2591\u2592\u2593\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2588\u2588\u2588\u2588\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591 
\u2591\u2592\u2593\u2588\u2593\u2592\u2591     \u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591 
\u2591\u2592\u2593\u2588\u2593\u2592\u2591     \u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591 
\u2591\u2592\u2593\u2588\u2588\u2588\u2588\u2588\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591 
\u2591\u2592\u2593\u2588\u2593\u2592\u2591     \u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591 
\u2591\u2592\u2593\u2588\u2593\u2592\u2591     \u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591  
\u2591\u2592\u2593\u2588\u2593\u2592\u2591     \u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2588\u2588\u2588\u2588\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591  v0.0.1 

                                                                               
`;import l from"chalk";var e={error(...t){console.log(l.red(...t))},warn(...t){console.log(l.yellow(...t))},info(...t){console.log(l.cyan(...t))},success(...t){console.log(l.green(...t))},break(){console.log("")}};import{z as u}from"zod";process.on("SIGINT",()=>process.exit(0));process.on("SIGTERM",()=>process.exit(0));var $=process.env.COMPONENTS_REGISTRY_URL??"http://localhost:3000/api/components",F=u.object({id:u.string(),cwd:u.string()});console.log(b("pink","blue")(y));var R=new j().name("add").description("add a new component or UI from farmui").argument("<string>","id of the component from https://farmui.com").option("-c, --cwd <cwd>","the working directory. defaults to the current directory.",process.cwd()).action(async(t,a)=>{let f=F.parse({id:t,...a}),m=p.resolve(f.cwd);k(m)||(e.error(`There is no ${m} exists your paths.`),process.exit(0));let w="components",S=process.cwd()===f.cwd;try{if(!S)e.info(`We are dumping the component inside of ${m} `);else{let{dir:o}=await x({type:"text",name:"dir",message:"A directory to dump the components? ",hint:"components "});o&&(w=o)}let h=p.join(m,w),s=p.join(h,"/farmui"),c=(await(await fetch($)).json()).find(o=>o.id===f.id);if(c||(e.error("No such component exists with in this ID."),process.exit(0)),k(s)){let{proceed:o}=await x({type:"confirm",name:"proceed",message:"Ready to install components and dependencies. Proceed?",initial:!0});o||(e.info("Make sure you have the right path to dump the components"),process.exit(0))}else await I.mkdir(s,{recursive:!0});let n=[],v=c.files[0].root.name,P=c.files[0].root.contents[0].content,C=p.join(s,v),E=c.files[1].child;n.push({comp_content:P,comp_path:C});let Y=[];E.map(o=>{let i=o.name,g=o.contents[0].content,d=p.join(s,i);n.push({comp_content:g,comp_path:d})});let _=A("Dumping your components...");_.start();let r=c.dependencies;if(n?n.map(async({comp_content:o,comp_path:i})=>{await I.writeFile(`${i}.tsx`,o)}):e.warn("No component to add"),r?.length&&await G("pnpm",["install",...r],{cwd:process.cwd()}),_.stop(),r.length&&(e.info(`Dependencies - ${r.length} added`),r.map(o=>{e.success(` + ${o}`)})),n){let o=s.split("/"),i=o[o.length-1]+o[o-2];e.info(`Components - ${n.length} added inside of ${i}`),n.map(g=>{let d=g.comp_path.split("/"),N=d[d.length-1];e.success(` + ${N}`)})}_.succeed("Successfully installed")}catch(h){e.error("Error has occured!"),console.log("Error: ",h)}});import M from"path";import U from"fs-extra";function T(){let t=M.join("package.json");return U.readJSONSync(t)}process.on("SIGINT",()=>process.exit(0));process.on("SIGTERM",()=>process.exit(0));async function D(){let t=await T(),a=new O().name("farmui").description("Add natively farmed farmUI blocks ").version(t.version||"1.0.0","-v, --version","display the version number");a.addCommand(R),a.parse()}D();
//# sourceMappingURL=index.js.map