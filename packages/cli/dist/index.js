import"dotenv/config";import{Command as U}from"commander";import"dotenv/config";import{existsSync as w,promises as y}from"fs";import c from"path";import A from"gradient-string";import{Command as C}from"commander";import N from"ora";import{execa as E}from"execa";import k from"prompts";var u=`
\u2591\u2592\u2593\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2588\u2588\u2588\u2588\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591 
\u2591\u2592\u2593\u2588\u2593\u2592\u2591     \u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591 
\u2591\u2592\u2593\u2588\u2593\u2592\u2591     \u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591 
\u2591\u2592\u2593\u2588\u2588\u2588\u2588\u2588\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591 
\u2591\u2592\u2593\u2588\u2593\u2592\u2591     \u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591 
\u2591\u2592\u2593\u2588\u2593\u2592\u2591     \u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591  
\u2591\u2592\u2593\u2588\u2593\u2592\u2591     \u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2588\u2588\u2588\u2588\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591  v0.0.1 

                                                                               
`;import m from"chalk";var e={error(...o){console.log(m.red(...o))},warn(...o){console.log(m.yellow(...o))},info(...o){console.log(m.cyan(...o))},success(...o){console.log(m.green(...o))},break(){console.log("")}};import{z as h}from"zod";var I=process.env.COMPONENTS_REGISTRY_URL??"http://localhost:3000/api/components";console.log({COMPONENT_REGISTERY_URL:I});var F=h.object({id:h.string(),cwd:h.string()});console.log(A("pink","blue")(u));var x=new C().name("add").description("add a new component or UI from farmui").argument("<string>","id of the component from https://farmui.com").option("-c, --cwd <cwd>","the working directory. defaults to the current directory.",process.cwd()).action(async(o,s)=>{let g=F.parse({id:o,...s}),r=c.resolve(g.cwd);w(r)||(e.error(`There is no ${r} exists your paths.`),process.exit(0));let i="components";try{if(r)i=r;else{let{dir:t}=await k({type:"text",name:"dir",message:"A directory where it should be living",hint:"./components "});t&&(i=t)}console.log({defaultDir:i});let p=c.join(process.cwd(),i),d=c.join(p,"/ui");if(w(p)){let{proceed:t}=await k({type:"confirm",name:"proceed",message:"Ready to install components and dependencies. Proceed?",initial:!0});t||(e.info("Make sure you have the right path to dump the components"),process.exit(0))}await y.mkdir(d,{recursive:!0});let a=[],n=(await(await fetch(I)).json()).find(t=>t.id===g.id);n||(e.error("No such component exists with in this ID."),process.exit(0)),console.log({select_files_by_id:n});let R=n.files[0].root.name,T=n.files[0].root.contents[0].content,P=c.join(d,R),S=n.files[1].child;a.push({comp_content:T,comp_path:P});let L=[],l=N("Dumping your components...");S.map(t=>{let f=t.name,b=t.contents[0].content,j=c.join(d,f);a.push({comp_content:b,comp_path:j})});let _=n.dependencies;l.start(),a?a.map(async({comp_content:t,comp_path:f})=>{await y.writeFile(`${f}.tsx`,t)}):e.warn("No component to add"),_?.length&&await E("pnpm",["install",..._],{cwd:process.cwd()}),l.stop(),l.succeed("Successfully installed")}catch(p){console.log("Error: ",p)}});import G from"path";import M from"fs-extra";function v(){let o=G.join("package.json");return M.readJSONSync(o)}process.on("SIGINT",()=>process.exit(0));process.on("SIGTERM",()=>process.exit(0));async function O(){let o=await v(),s=new U().name("farmui").description("Add natively farmed farmUI blocks ").version(o.version||"1.0.0","-v, --version","display the version number");s.addCommand(x),s.parse()}O();
//# sourceMappingURL=index.js.map