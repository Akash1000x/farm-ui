import"dotenv/config";import{Command as O}from"commander";import"dotenv/config";import{existsSync as w,promises as y}from"fs";import s from"path";import b from"gradient-string";import{Command as j}from"commander";import A from"ora";import{execa as C}from"execa";import k from"prompts";var u=`
\u2591\u2592\u2593\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2588\u2588\u2588\u2588\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591 
\u2591\u2592\u2593\u2588\u2593\u2592\u2591     \u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591 
\u2591\u2592\u2593\u2588\u2593\u2592\u2591     \u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591 
\u2591\u2592\u2593\u2588\u2588\u2588\u2588\u2588\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591 
\u2591\u2592\u2593\u2588\u2593\u2592\u2591     \u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591 
\u2591\u2592\u2593\u2588\u2593\u2592\u2591     \u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591  
\u2591\u2592\u2593\u2588\u2593\u2592\u2591     \u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2588\u2588\u2588\u2588\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591  v0.0.1 

                                                                               
`;import a from"chalk";var e={error(...o){console.log(a.red(...o))},warn(...o){console.log(a.yellow(...o))},info(...o){console.log(a.cyan(...o))},success(...o){console.log(a.green(...o))},break(){console.log("")}};import{z as h}from"zod";process.on("SIGINT",()=>process.exit(0));process.on("SIGTERM",()=>process.exit(0));var G=process.env.COMPONENTS_REGISTRY_URL??"http://localhost:3000/api/components",F=h.object({id:h.string(),cwd:h.string()});console.log(b("pink","blue")(u));var I=new j().name("add").description("add a new component or UI from farmui").argument("<string>","id of the component from https://farmui.com").option("-c, --cwd <cwd>","the working directory. defaults to the current directory.",process.cwd()).action(async(o,c)=>{let m=F.parse({id:o,...c}),r=s.resolve(m.cwd);w(r)||(e.error(`There is no ${r} exists your paths.`),process.exit(0));let _="components",R=process.cwd()===m.cwd;try{if(!R)e.info(`We are dumping the component inside of ${r} `);else{let{dir:t}=await k({type:"text",name:"dir",message:"A directory to dump the components? ",hint:"components "});t&&(_=t)}let d=s.join(r,_),i=s.join(d,"/farmui"),n=(await(await fetch(G)).json()).find(t=>t.id===m.id);if(n||(e.error("No such component exists with in this ID."),process.exit(0)),w(i)){let{proceed:t}=await k({type:"confirm",name:"proceed",message:"Ready to install components and dependencies. Proceed?",initial:!0});t||(e.info("Make sure you have the right path to dump the components"),process.exit(0))}else await y.mkdir(i,{recursive:!0});let p=[],T=n.files[0].root.name,S=n.files[0].root.contents[0].content,v=s.join(i,T),P=n.files[1].child;p.push({comp_content:S,comp_path:v});let L=[];P.map(t=>{let l=t.name,E=t.contents[0].content,N=s.join(i,l);p.push({comp_content:E,comp_path:N})});let f=A("Dumping your components...");f.start();let g=n.dependencies;p?p.map(async({comp_content:t,comp_path:l})=>{await y.writeFile(`${l}.tsx`,t)}):e.warn("No component to add"),g?.length&&await C("pnpm",["install",...g],{cwd:process.cwd()}),f.stop(),f.succeed("Successfully installed")}catch(d){e.error("Error has occured!"),console.log("Error: ",d)}});import M from"path";import U from"fs-extra";function x(){let o=M.join("package.json");return U.readJSONSync(o)}process.on("SIGINT",()=>process.exit(0));process.on("SIGTERM",()=>process.exit(0));async function J(){let o=await x(),c=new O().name("farmui").description("Add natively farmed farmUI blocks ").version(o.version||"1.0.0","-v, --version","display the version number");c.addCommand(I),c.parse()}J();
//# sourceMappingURL=index.js.map