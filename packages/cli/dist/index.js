import"dotenv/config";import{Command as O}from"commander";import"dotenv/config";import{existsSync as w,promises as y}from"fs";import s from"path";import A from"gradient-string";import{Command as C}from"commander";import N from"ora";import{execa as E}from"execa";import k from"prompts";var u=`
\u2591\u2592\u2593\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2588\u2588\u2588\u2588\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591 
\u2591\u2592\u2593\u2588\u2593\u2592\u2591     \u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591 
\u2591\u2592\u2593\u2588\u2593\u2592\u2591     \u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591 
\u2591\u2592\u2593\u2588\u2588\u2588\u2588\u2588\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591 
\u2591\u2592\u2593\u2588\u2593\u2592\u2591     \u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591 
\u2591\u2592\u2593\u2588\u2593\u2592\u2591     \u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591  
\u2591\u2592\u2593\u2588\u2593\u2592\u2591     \u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2588\u2588\u2588\u2588\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591  v0.0.1 

                                                                               
`;import m from"chalk";var e={error(...o){console.log(m.red(...o))},warn(...o){console.log(m.yellow(...o))},info(...o){console.log(m.cyan(...o))},success(...o){console.log(m.green(...o))},break(){console.log("")}};import{z as g}from"zod";var F=process.env.COMPONENTS_REGISTRY_URL??"http://localhost:3000/api/components",G=g.object({id:g.string(),cwd:g.string()});console.log(A("pink","blue")(u));var I=new C().name("add").description("add a new component or UI from farmui").argument("<string>","id of the component from https://farmui.com").option("-c, --cwd <cwd>","the working directory. defaults to the current directory.",process.cwd()).action(async(o,r)=>{let i=G.parse({id:o,...r}),c=s.resolve(i.cwd);w(c)||(e.error(`There is no ${c} exists your paths.`),process.exit(0));let d="components",v=process.cwd()===i.cwd;console.log({custom_cwd:c,options:i}),console.log(process.cwd());try{if(!v)e.info(`We are dumping the component inside of ${c} `);else{let{dir:t}=await k({type:"text",name:"dir",message:"A directory where it should be living",hint:"./components "});t&&(d=t)}console.log({defaultDir:d});let l=s.join(c,d),p=s.join(l,"/ui"),n=(await(await fetch(F)).json()).find(t=>t.id===i.id);if(n||(e.error("No such component exists with in this ID."),process.exit(0)),w(p)){let{proceed:t}=await k({type:"confirm",name:"proceed",message:"Ready to install components and dependencies. Proceed?",initial:!0});t||(e.info("Make sure you have the right path to dump the components"),process.exit(0))}else await y.mkdir(p,{recursive:!0});let a=[];console.log({select_files_by_id:n});let R=n.files[0].root.name,T=n.files[0].root.contents[0].content,P=s.join(p,R),S=n.files[1].child;a.push({comp_content:T,comp_path:P});let L=[];S.map(t=>{let h=t.name,b=t.contents[0].content,j=s.join(p,h);a.push({comp_content:b,comp_path:j})});let f=N("Dumping your components...");f.start();let _=n.dependencies;a?a.map(async({comp_content:t,comp_path:h})=>{await y.writeFile(`${h}.tsx`,t)}):e.warn("No component to add"),_?.length&&await E("pnpm",["install",..._],{cwd:process.cwd()}),f.stop(),f.succeed("Successfully installed")}catch(l){console.log("Error: ",l)}});import M from"path";import U from"fs-extra";function x(){let o=M.join("package.json");return U.readJSONSync(o)}process.on("SIGINT",()=>process.exit(0));process.on("SIGTERM",()=>process.exit(0));async function J(){let o=await x(),r=new O().name("farmui").description("Add natively farmed farmUI blocks ").version(o.version||"1.0.0","-v, --version","display the version number");r.addCommand(I),r.parse()}J();
//# sourceMappingURL=index.js.map