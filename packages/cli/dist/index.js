import"dotenv/config";import{Command as X}from"commander";import"dotenv/config";import{existsSync as u,promises as x}from"fs";import i from"path";import O from"gradient-string";import{Command as W}from"commander";import J from"ora";import{execa as L}from"execa";import b from"prompts";var $=`
\u2591\u2592\u2593\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2588\u2588\u2588\u2588\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591 
\u2591\u2592\u2593\u2588\u2593\u2592\u2591     \u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591 
\u2591\u2592\u2593\u2588\u2593\u2592\u2591     \u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591 
\u2591\u2592\u2593\u2588\u2588\u2588\u2588\u2588\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591 
\u2591\u2592\u2593\u2588\u2593\u2592\u2591     \u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591 
\u2591\u2592\u2593\u2588\u2593\u2592\u2591     \u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591  
\u2591\u2592\u2593\u2588\u2593\u2592\u2591     \u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2588\u2588\u2588\u2588\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591  v1.0.0 

                                                                               
`;import w from"chalk";var t={error(...e){console.log(w.red(...e))},warn(...e){console.log(w.yellow(...e))},info(...e){console.log(w.cyan(...e))},success(...e){console.log(w.green(...e))},break(){console.log("")}};import{z as j}from"zod";import{detect as U}from"@antfu/ni";async function R(e){let n=await U({programmatic:!0,cwd:e});return n==="yarn@berry"?"yarn":n==="pnpm@6"?"pnpm":n==="bun"?"bun":n??"npm"}var v=[{name:"React",value:"react"},{name:"Vue",value:"vue"},{name:"Svelte",value:"svelte"},{name:"Html",value:"html"}];process.on("SIGINT",()=>process.exit(0));process.on("SIGTERM",()=>process.exit(0));var z="https://farmui-api.vercel.app/api/components",B=j.object({id:j.string(),cwd:j.string()}),H=["animation","keyframes"];console.log(O("pink","blue")($));var S=new W().name("add").description("add a new component or UI from farmui").argument("<string>","id of the component from https://farmui.com/components").option("-c, --cwd <cwd>","the working directory. defaults to the current directory.",process.cwd()).action(async(e,n)=>{let _=B.parse({id:e,...n}),m=i.resolve(_.cwd),g=v[0].value;u(m)||(t.error(`There is no ${m} exists your paths.`),process.exit(0));let T="components",A=process.cwd()===_.cwd;try{if(!A)t.info(`We are dumping the components inside of ${m} `);else{let{dir:o}=await b({type:"text",name:"dir",message:"A directory to dump the components? ",hint:"components "});o&&(T=o)}let{fm:d}=await b({type:"select",name:"fm",message:"Which framework do you want to use with?",hint:"Space to select and Enter to submit.",instructions:!1,choices:v.map(o=>({title:o.name,value:o.value,selected:o.value==="react"}))});d&&(g=d),g!=="react"&&(t.error(`We are not currently supporting ${d} on https://farmui.com.`),t.info("Be a part of the community by adding an integration to your favorite framework, go for https://github.com/Kinfe123/farm-ui"),process.exit(0));let C=i.join(m,T),f=i.join(C,"/farmui"),s=(await(await fetch(z)).json()).find(o=>o.id===_.id);if(s||(t.error("No such component exists with in this ID."),process.exit(0)),u(f)){let{proceed:o}=await b({type:"confirm",name:"proceed",message:"Ready to install components and dependencies. Proceed?",initial:!0});o||(t.info("Make sure you have the right path to dump the components"),process.exit(0))}else await x.mkdir(f,{recursive:!0});let r=[],E=s.files[0].root.name,y=s.tailwind;if(y){t.info("The components need tailwind.config.(ts/js) change");let o=i.join(process.cwd(),"tailwind.config.js"),c=i.join(process.cwd(),"tailwind.config.ts"),p="ts",a=!0;if(!u(c)&&!u(o)&&(a=!1),!a)t.warn("The tailwind.config.(js/ts) can not be found with in the given directory , Please make sure to intialize your project with tailwindcss or shadcn , may be any UI component that build on top of tailwind");else{u(o)&&(p="js");let h=`tailwind.config.${p}`,D=i.join(process.cwd(),h),eo=await x.readFile(D,"utf8");H.map(I=>{I in y&&(t.info(`For ${I} - copy the following and paste it to your ${h}`),console.log(y[I].content))})}}let F=s.files[0].root.contents[g].content,M=i.join(f,E),P=[];s[1]&&(P=s.files[1].child),r.push({comp_content:F,comp_path:M}),P.map(o=>{let c=o.name,p=o.contents[g].content,a=i.join(f,c);r.push({comp_content:p,comp_path:a})});let k=J("Dumping your components...");k.start();let l=s.dependencies;r?r.map(async({comp_content:o,comp_path:c})=>{await x.writeFile(`${c}.tsx`,o)}):t.warn("No component to add");let G=await R(m);if(l?.length&&await L(`${G}`,["install",...l],{cwd:process.cwd()}),k.stop(),l.length&&(t.info(`Dependencies - ${l.length} added`),l.map(o=>{t.success(` + ${o}`)})),r){let o=f.split("/"),c=o[o.length-2]+"/"+o[o.length-1];t.info(`Components - ${r.length} added inside of ${c}`),r.map(p=>{let a=p.comp_path.split("/"),h=a[a.length-1];t.success(` + ${h}`)})}k.succeed("Successfully installed")}catch(d){t.error("Error has occured!"),console.log("Error: ",d)}});import K from"path";import V from"fs-extra";function N(){let e=K.join("package.json");return V.readJSONSync(e)}process.on("SIGINT",()=>process.exit(0));process.on("SIGTERM",()=>process.exit(0));async function Y(){let e=await N(),n=new X().name("farmui").description("Add natively farmed farmUI blocks ").version(e.version||"0.1.0","-v, --version","display the version number");n.addCommand(S),n.parse()}Y();
//# sourceMappingURL=index.js.map