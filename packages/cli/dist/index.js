import"dotenv/config";import{Command as B}from"commander";import"dotenv/config";import{existsSync as x,promises as I}from"fs";import m from"path";import E from"gradient-string";import{Command as F}from"commander";import G from"ora";import{execa as N}from"execa";import b from"prompts";var y=`
\u2591\u2592\u2593\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2588\u2588\u2588\u2588\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591 
\u2591\u2592\u2593\u2588\u2593\u2592\u2591     \u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591 
\u2591\u2592\u2593\u2588\u2593\u2592\u2591     \u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591 
\u2591\u2592\u2593\u2588\u2588\u2588\u2588\u2588\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591 
\u2591\u2592\u2593\u2588\u2593\u2592\u2591     \u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591 
\u2591\u2592\u2593\u2588\u2593\u2592\u2591     \u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591  
\u2591\u2592\u2593\u2588\u2593\u2592\u2591     \u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2588\u2588\u2588\u2588\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591  v0.0.1 

                                                                               
`;import f from"chalk";var n={error(...t){console.log(f.red(...t))},warn(...t){console.log(f.yellow(...t))},info(...t){console.log(f.cyan(...t))},success(...t){console.log(f.green(...t))},break(){console.log("")}};import{z as _}from"zod";import{detect as C}from"@antfu/ni";async function k(t){let e=await C({programmatic:!0,cwd:t});return e==="yarn@berry"?"yarn":e==="pnpm@6"?"pnpm":e==="bun"?"bun":e??"npm"}process.on("SIGINT",()=>process.exit(0));process.on("SIGTERM",()=>process.exit(0));var U="https://farmui-api.vercel.app/api/components",D=_.object({id:_.string(),cwd:_.string()});console.log(E("pink","blue")(y));var P=new F().name("add").description("add a new component or UI from farmui").argument("<string>","id of the component from https://farmui.com").option("-c, --cwd <cwd>","the working directory. defaults to the current directory.",process.cwd()).action(async(t,e)=>{let l=D.parse({id:t,...e}),c=m.resolve(l.cwd);x(c)||(n.error(`There is no ${c} exists your paths.`),process.exit(0));let w="components",T=process.cwd()===l.cwd;try{if(!T)n.info(`We are dumping the component inside of ${c} `);else{let{dir:o}=await b({type:"text",name:"dir",message:"A directory to dump the components? ",hint:"components "});o&&(w=o)}let g=m.join(c,w),s=m.join(g,"/farmui"),i=(await(await fetch(U)).json()).find(o=>o.id===l.id);if(i||(n.error("No such component exists with in this ID."),process.exit(0)),x(s)){let{proceed:o}=await b({type:"confirm",name:"proceed",message:"Ready to install components and dependencies. Proceed?",initial:!0});o||(n.info("Make sure you have the right path to dump the components"),process.exit(0))}else await I.mkdir(s,{recursive:!0});let r=[],M=i.files[0].root.name,R=i.files[0].root.contents[0].content,S=m.join(s,M),$=i.files[1].child;r.push({comp_content:R,comp_path:S});let q=[];$.map(o=>{let p=o.name,u=o.contents[0].content,d=m.join(s,p);r.push({comp_content:u,comp_path:d})});let h=G("Dumping your components...");h.start();let a=i.dependencies;r?r.map(async({comp_content:o,comp_path:p})=>{await I.writeFile(`${p}.tsx`,o)}):n.warn("No component to add");let j=await k(c);if(a?.length&&await N(`${j}`,["install",...a],{cwd:process.cwd()}),h.stop(),a.length&&(n.info(`Dependencies - ${a.length} added`),a.map(o=>{n.success(` + ${o}`)})),r){let o=s.split("/"),p=o[o.length-2]+"/"+o[o.length-1];n.info(`Components - ${r.length} added inside of ${p}`),r.map(u=>{let d=u.comp_path.split("/"),A=d[d.length-1];n.success(` + ${A}`)})}h.succeed("Successfully installed")}catch(g){n.error("Error has occured!"),console.log("Error: ",g)}});import J from"path";import O from"fs-extra";function v(){let t=J.join("package.json");return O.readJSONSync(t)}process.on("SIGINT",()=>process.exit(0));process.on("SIGTERM",()=>process.exit(0));async function z(){let t=await v(),e=new B().name("farmui").description("Add natively farmed farmUI blocks ").version(t.version||"0.1.0","-v, --version","display the version number");e.addCommand(P),e.parse()}z();
//# sourceMappingURL=index.js.map