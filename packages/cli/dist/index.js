import"dotenv/config";import{Command as H}from"commander";import"dotenv/config";import{existsSync as P,promises as S}from"fs";import l from"path";import N from"gradient-string";import{Command as U}from"commander";import D from"ora";import{execa as J}from"execa";import y from"prompts";var I=`
\u2591\u2592\u2593\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2588\u2588\u2588\u2588\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591 
\u2591\u2592\u2593\u2588\u2593\u2592\u2591     \u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591 
\u2591\u2592\u2593\u2588\u2593\u2592\u2591     \u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591 
\u2591\u2592\u2593\u2588\u2588\u2588\u2588\u2588\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591 
\u2591\u2592\u2593\u2588\u2593\u2592\u2591     \u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591 
\u2591\u2592\u2593\u2588\u2593\u2592\u2591     \u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591  
\u2591\u2592\u2593\u2588\u2593\u2592\u2591     \u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2588\u2588\u2588\u2588\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591  v0.0.1 

                                                                               
`;import u from"chalk";var t={error(...e){console.log(u.red(...e))},warn(...e){console.log(u.yellow(...e))},info(...e){console.log(u.cyan(...e))},success(...e){console.log(u.green(...e))},break(){console.log("")}};import{z as k}from"zod";import{detect as G}from"@antfu/ni";async function b(e){let n=await G({programmatic:!0,cwd:e});return n==="yarn@berry"?"yarn":n==="pnpm@6"?"pnpm":n==="bun"?"bun":n??"npm"}var w=[{name:"React",value:"react"},{name:"Vue",value:"vue"},{name:"Svelte",value:"svelte"},{name:"Html",value:"html"}];process.on("SIGINT",()=>process.exit(0));process.on("SIGTERM",()=>process.exit(0));var B="https://farmui-api.vercel.app/api/components",O=k.object({id:k.string(),cwd:k.string()});console.log(N("pink","blue")(I));var R=new U().name("add").description("add a new component or UI from farmui").argument("<string>","id of the component from https://farmui.com").option("-c, --cwd <cwd>","the working directory. defaults to the current directory.",process.cwd()).action(async(e,n)=>{let g=O.parse({id:e,...n}),a=l.resolve(g.cwd),c=w[0].value;P(a)||(t.error(`There is no ${a} exists your paths.`),process.exit(0));let v="components",M=process.cwd()===g.cwd;try{if(!M)t.info(`We are dumping the component inside of ${a} `);else{let{dir:o}=await y({type:"text",name:"dir",message:"A directory to dump the components? ",hint:"components "});o&&(v=o)}let{fm:i}=await y({type:"multiselect",name:"fm",message:"Which framework are you looking for?",hint:"Space to select. A to toggle all. Enter to submit.",instructions:!1,choices:w.map(o=>({title:o.name,value:o.value,selected:o.value==="react"}))});i&&(c=i[0]),console.log({framework:c}),c!=="react"&&(t.error(`We are currently not supporting ${i} on farmui.com.`),t.info("Be a part of by adding for your favorite framework, go for https://github.com/Kinfe123/farm-ui"),process.exit(0));let $=l.join(a,v),p=l.join($,"/farmui"),r=(await(await fetch(B)).json()).find(o=>o.id===g.id);if(r||(t.error("No such component exists with in this ID."),process.exit(0)),P(p)){let{proceed:o}=await y({type:"confirm",name:"proceed",message:"Ready to install components and dependencies. Proceed?",initial:!0});o||(t.info("Make sure you have the right path to dump the components"),process.exit(0))}else await S.mkdir(p,{recursive:!0});let s=[],A=r.files[0].root.name;console.log(r.files[0].root.contents[c]);let j=r.files[0].root.contents[c].content,C=l.join(p,A),x=[];r[1]&&(x=r.files[1].child),s.push({comp_content:j,comp_path:C});let Q=[];x.map(o=>{let d=o.name,_=o.contents[c].content,f=l.join(p,d);s.push({comp_content:_,comp_path:f})});let h=D("Dumping your components...");h.start();let m=r.dependencies;s?s.map(async({comp_content:o,comp_path:d})=>{await S.writeFile(`${d}.tsx`,o)}):t.warn("No component to add");let E=await b(a);if(m?.length&&await J(`${E}`,["install",...m],{cwd:process.cwd()}),h.stop(),m.length&&(t.info(`Dependencies - ${m.length} added`),m.map(o=>{t.success(` + ${o}`)})),s){let o=p.split("/"),d=o[o.length-2]+"/"+o[o.length-1];t.info(`Components - ${s.length} added inside of ${d}`),s.map(_=>{let f=_.comp_path.split("/"),F=f[f.length-1];t.success(` + ${F}`)})}h.succeed("Successfully installed")}catch(i){t.error("Error has occured!"),console.log("Error: ",i)}});import W from"path";import z from"fs-extra";function T(){let e=W.join("package.json");return z.readJSONSync(e)}process.on("SIGINT",()=>process.exit(0));process.on("SIGTERM",()=>process.exit(0));async function K(){let e=await T(),n=new H().name("farmui").description("Add natively farmed farmUI blocks ").version(e.version||"0.1.0","-v, --version","display the version number");n.addCommand(R),n.parse()}K();
//# sourceMappingURL=index.js.map