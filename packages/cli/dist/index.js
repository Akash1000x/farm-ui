import"dotenv/config";import{Command as N}from"commander";import"dotenv/config";import{existsSync as C,promises as _}from"fs";import i from"path";import E from"gradient-string";import{Command as F}from"commander";import G from"ora";import{execa as M}from"execa";import u from"prompts";var g=`
\u2591\u2592\u2593\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2588\u2588\u2588\u2588\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591 
\u2591\u2592\u2593\u2588\u2593\u2592\u2591     \u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591 
\u2591\u2592\u2593\u2588\u2593\u2592\u2591     \u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591 
\u2591\u2592\u2593\u2588\u2588\u2588\u2588\u2588\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591 
\u2591\u2592\u2593\u2588\u2593\u2592\u2591     \u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591 
\u2591\u2592\u2593\u2588\u2593\u2592\u2591     \u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591  
\u2591\u2592\u2593\u2588\u2593\u2592\u2591     \u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2588\u2588\u2588\u2588\u2588\u2593\u2592\u2591\u2591\u2592\u2593\u2588\u2593\u2592\u2591  v0.0.1 

                                                                               
`;import c from"chalk";var r={error(...o){console.log(c.red(...o))},warn(...o){console.log(c.yellow(...o))},info(...o){console.log(c.cyan(...o))},success(...o){console.log(c.green(...o))},break(){console.log("")}};var w=process.env.COMPONENTS_REGISTRY_URL??"http://localhost:3000/api/components";console.log({COMPONENT_REGISTERY_URL:w});console.log(E("pink","blue")(g));var y=()=>new F().command("add").description("add a new component or UI from farmui").argument("<string>","id of the component from https://farmui.com").option("-c, --cwd <cwd>","the working directory. defaults to the current directory.",process.cwd()).action(async(k,I)=>{console.log({opts:I});try{let e="components",{dir:a}=await u({type:"text",name:"dir",message:"A directory where it should be living",hint:"./components "});console.log({dir:a}),a&&(e=a);let d=i.join(process.cwd(),e),m=i.join(d,"/ui");if(C(d)){r.info("The component already existed");let{proceed:n}=await u({type:"confirm",name:"proceed",message:"Ready to install components and dependencies. Proceed?",initial:!0});n||(r.info("Make sure you have the right path to dump the components"),process.exit(0))}await _.mkdir(m,{recursive:!0});let s=[],l=await fetch(w);console.log(l);let f=await l.json();console.log("The file is : ",f);let t=f.find(n=>n.id===k);console.log({select_files_by_id:t});let x=t.files[0].root.name,T=t.files[0].root.contents[0].content,R=i.join(m,x),v=t.files[1].child;s.push({comp_content:T,comp_path:R});let j=[];v.map(n=>{let p=n.name,b=n.contents[0].content,A=i.join(m,p);s.push({comp_content:b,comp_path:A})});let h=t.dependencies,S=G("Installing components...").start();s?s.map(async({comp_content:n,comp_path:p})=>{await _.writeFile(`${p}.tsx`,n)}):r.warn("No component to add"),h?.length&&await M("pnpm",["install",...h],{cwd:process.cwd()}),S.succeed("Successfully installed")}catch(e){console.log("Error: ",e)}});process.on("SIGINT",()=>process.exit(0));process.on("SIGTERM",()=>process.exit(0));async function P(){let o=new N().command("farm-ui").name("farm-ui").description(`Treating UI libs as first class citizen and making sure they are headless
for more, visit us - https://farmui.com`).version("0.0.1","-v, --version","display the version number");o.addCommand(y()),o.parse(process.argv)}P();
//# sourceMappingURL=index.js.map